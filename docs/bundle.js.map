{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/map.js","webpack:///./src/data.js","webpack:///./src/dream.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","map","panorama","panoramaElement","document","querySelector","resetMapButton","backToMapButton","initMap","google","maps","Map","getElementById","zoom","center","lat","lng","streetViewControl","StreetViewPanorama","position","pov","heading","pitch","addEventListener","resetMap","backToMap","style","display","addMarkerOnMap","dream","marker","Marker","coordinates","icon","done","addListener","getPosition","setZoom","setCenter","setMapTypeId","data","id","imagePath","description","link","dreamsContainer","body","buildAllDreams","hasChildNodes","removeChild","lastChild","forEach","buildOneDream","querySelectorAll","item","event","dreamId","setPosition","visiteDreamOnMap","filter","visiteDream","parentElement","getAttribute","toggleDreamDone","dreamElement","createElement","innerHTML","appendChild","window","init"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","let map;\nlet panorama;\nconst panoramaElement = document.querySelector(\"#panorama\");\nconst resetMapButton = document.querySelector(\"#reset-map\");\nconst backToMapButton = document.querySelector(\"#back-to-map\");\n\n\nfunction initMap() {\n  // There are two required options for every map: center and zoom.\n  map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 3,\n      center: {lat:48.858206,lng:2.294379},\n      streetViewControl: false\n    });\n\n  panorama = new google.maps.StreetViewPanorama(\n      document.getElementById('panorama'), {\n      position: {lat:48.858206,lng:2.294379},\n      pov: {\n        heading: 34,\n        pitch: 10\n        }\n      });\n\n    addMapListeners();\n\n  panoramaElement.style.display = \"none\";\n  backToMapButton.style.display = \"none\";\n\n\n }\n\n function addMapListeners(){\n\n  resetMapButton.addEventListener(\"click\", resetMap);  \n  backToMapButton.addEventListener(\"click\", backToMap);\n\n}\n\nfunction addMarkerOnMap(dream){\n\n  // The marker, positioned at dreams\n  const marker = new google.maps.Marker({\n    position: dream.coordinates, \n    map: map,\n    icon: dream.done ? \"assets/marker-done.png\" : \"assets/marker.png\"\n  });\n\n  marker.addListener('click', function() {\n    \n    zoomOn(marker.getPosition());\n  });\n\n}\n\nfunction zoomOn(position) {\n\n  map.setZoom(20);\n  map.setCenter(position);\n  map.setMapTypeId(\"satellite\");\n}\n\n\nfunction resetMap(){\n\n  map.setZoom(3);\n  map.setCenter({lat:48.858206,lng:2.294379});\n  map.setMapTypeId(\"roadmap\");\n}\n\nfunction backToMap(){\n\n  panoramaElement.style.display = \"none\";\n  backToMapButton.style.display = \"none\";\n  resetMapButton.style.display = \"block\";\n}\n\nfunction visiteDreamOnMap(position) {\n  panorama.setPosition(position);\n  panoramaElement.style.display = \"block\";\n  backToMapButton.style.display = \"block\";\n  resetMapButton.style.display = \"none\";\n\n}\n\nexport {initMap, addMarkerOnMap, visiteDreamOnMap};","const data = [\n    {\n        id: 1,\n        imagePath: \"assets/img-maldives.jpg\",\n        description: \"Maison sur pilotis aux Maldives\",\n        done: false,\n        link: \"https://www.dreamingofmaldives.com/blog-des-maldives/les-plus-belles-villas-sur-pilotis-que-nous-ayons-vu-aux-maldives-notre-selection-en-photos/\",\n        coordinates: {\n            lat:-0.681786,\n            lng:73.191414\n        }\n    },\n\n    {\n        id: 2,\n        imagePath: \"assets/img-kenya.jpg\",\n        description: \"Faire un Safari au Kenya\",\n        done: false,\n        link: \"http://www.kenya-guide.com/choix-safari-kenya\",\n        coordinates: {\n            lat:-0.524805,\n            lng:36.663921\n        }\n    },\n\n    {\n        id: 3,\n        imagePath: \"assets/img-paris.jpg\",\n        description: \"Monter sur la Tour Eiffel \",\n        done: true,\n        link: \"https://www.toureiffel.paris/fr\",\n        coordinates: {\n            lat:48.858105,\n            lng:2.294492\n        }\n    },\n\n]\n\nexport {data};","import {data} from './data';\nimport {addMarkerOnMap, visiteDreamOnMap} from './map'\n\n\nconst dreamsContainer = document.body.querySelector('#dreams-container');\n\n\nfunction buildAllDreams(){\n    while (dreamsContainer.hasChildNodes()) {       //tant que #dreams-container a des enfants (hasChildNodes) tu supprimes les élements qui sont dans le #dreams-container\n           \n            dreamsContainer.removeChild(dreamsContainer.lastChild);    \n    }\n            data.forEach(buildOneDream);\n            addDreamsListeners();\n}\n\nfunction buildOneDream(dream) {\n\n    const dreamElement = document.createElement(\"div\");\n    dreamElement.innerHTML = `            \n    \n    <div class=\"card text-center\" id=\"${dream.id}\">    \n\n    <h4 class=\"card-header font-weight-bold\">${dream.description}</h4>\n    <img src=\"${dream.imagePath}\" class=\"card-img-top\" alt=\"${dream.description}\">  \n\n    <div class=\"card-body\">\n    <a href=\"#\" class=\"button-action btn btn-${dream.done?\"secondary\":\"danger\"} font-weight-bold btn-block\">${dream.done?\"Je veux le refaire\":\"Je me lance !\"}</a></div>\n  \n    <div class=\"card-footer text-muted text-right\">\n        <a href=\"#\" class=\"button-visit btn btn-outline-secondary btn-sm\">Visiter</a>             \n        <a href=\"${dream.link}\" target=\"_blank\" class=\"btn btn-outline-dark btn-sm\">Plus d'infos</a>\n    </div>\n  \n    </div>\n`;\n\n    dreamsContainer.appendChild(dreamElement);\n\n    addMarkerOnMap(dream)\n\n}\n\nfunction addDreamsListeners() {\n    \n    document.querySelectorAll(\".button-visit\").forEach(item => {\n        item.addEventListener(\"click\", event => {\n            visiteDream(item.parentElement.parentElement.getAttribute(\"id\"));\n        })\n    });\n\n    document.querySelectorAll(\".button-action\").forEach(item => {\n        item.addEventListener(\"click\", event => {\n            toggleDreamDone(item.parentElement.parentElement.getAttribute(\"id\"));\n            buildAllDreams();\n        })\n    });\n}\n\nfunction toggleDreamDone(dreamId) {\n    let dream = data.filter( item => item.id == dreamId)[0];\n    dream.done = !dream.done;\n}\n\nfunction visiteDream(dreamId) {\n    let position = data.filter( item => item.id == dreamId)[0].coordinates;\n    visiteDreamOnMap(position);\n}\n\nexport {buildAllDreams};","import {initMap} from './map'\nimport {buildAllDreams} from './dream'\n\nfunction init() {\n    initMap();\n    buildAllDreams();\n}\n\nwindow.init = init;"],"sourceRoot":""}